# =============================================================================
# Roamie VPN Server Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env files with real secrets to git!
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: Database Configuration
# -----------------------------------------------------------------------------
# Option 1: Full DATABASE_URL (recommended for production)
DATABASE_URL=postgresql://roamie:YOUR_SECURE_PASSWORD@localhost:5432/roamie_vpn?sslmode=disable

# Option 2: For auto-setup with Docker (development)
# If DATABASE_URL is not set, the server will auto-create a PostgreSQL container
# POSTGRES_PASSWORD=your_secure_password_here

# -----------------------------------------------------------------------------
# REQUIRED: Authentication
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING
JWT_EXPIRATION=168h

# -----------------------------------------------------------------------------
# REQUIRED: Email Service (Resend)
# -----------------------------------------------------------------------------
# Get your API key from https://resend.com
RESEND_API_KEY=re_YOUR_API_KEY_HERE
FROM_EMAIL=noreply@yourdomain.com

# -----------------------------------------------------------------------------
# REQUIRED: Admin Access
# -----------------------------------------------------------------------------
# Comma-separated list of admin email addresses
# These users can access admin endpoints
ADMIN_EMAILS=admin@example.com,another-admin@example.com

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
API_PORT=8080
API_HOST=0.0.0.0
ENABLE_TLS=false
# TLS_CERT=/path/to/cert.pem
# TLS_KEY=/path/to/key.pem

# -----------------------------------------------------------------------------
# WireGuard Configuration
# -----------------------------------------------------------------------------
WG_INTERFACE=wg0
WG_PORT=51820
WG_SERVER_PUBLIC_ENDPOINT=your-server-ip-or-domain:51820
WG_BASE_NETWORK=10.100.0.0/16
WG_SUBNET_SIZE=29
WG_FALLBACK_NETWORKS=10.200.0.0/16,10.150.0.0/16

# -----------------------------------------------------------------------------
# SSH Tunnel Configuration
# -----------------------------------------------------------------------------
# Hostname returned by tunnel API for SSH reverse tunnels
# If not set, falls back to host portion of WG_SERVER_PUBLIC_ENDPOINT
# TUNNEL_SERVER_HOST=your-server-domain.com

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_AUTH=10
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# User Limits
# -----------------------------------------------------------------------------
MAX_DEVICES_PER_USER=5
AUTH_CODE_EXPIRATION=300

# -----------------------------------------------------------------------------
# Optional: Firebase (for mobile app authentication)
# -----------------------------------------------------------------------------
# Download service account JSON from Firebase Console:
# Project Settings > Service accounts > Generate new private key
# FIREBASE_CREDENTIALS_PATH=/path/to/firebase-service-account.json

# -----------------------------------------------------------------------------
# Optional: Device Auto-Registration
# -----------------------------------------------------------------------------
AUTO_REGISTER_DEVICES=true
